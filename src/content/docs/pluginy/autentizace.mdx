---
title: Autentizace
description: Jak zabezpeÄit server pro warez hrÃ¡Äe pomocÃ­ pluginu LibreLogin.
---


import {Steps, TabItem, Tabs, FileTree} from '@astrojs/starlight/components';

Pokud chceÅ¡ na server pustit i hrÃ¡Äe bez originÃ¡lnÃ­ho Minecraftu (Warez), musÃ­Å¡ mÃ­t autentizaÄnÃ­ plugin. Bez nÄ›j by se kdokoliv mohl pÅ™ipojit za tvÅ¯j nick a zÃ­skat operÃ¡torskÃ¡ prÃ¡va nebo vykrÃ¡st tvÃ© vÄ›ci.

V tomto nÃ¡vodu pouÅ¾ijeme modernÃ­ plugin **[LibreLogin](https://modrinth.com/plugin/libre-login)**, kterÃ½ funguje skvÄ›le na Velocity i Paperu a podporuje automatickÃ© pÅ™ihlÃ¡Å¡enÃ­ pro hrÃ¡Äe se zakoupenÃ½m Minecraftem.

## Instalace a NastavenÃ­

Vyber si platformu, kterou pouÅ¾Ã­vÃ¡Å¡.

<Tabs>
    <TabItem label="ğŸš€ Velocity (DoporuÄeno)">
        Toto je nejbezpeÄnÄ›jÅ¡Ã­ zpÅ¯sob. Autentizace probÃ­hÃ¡ pÅ™Ã­mo na proxy, takÅ¾e se neovÄ›Å™enÃ½ hrÃ¡Ä nikdy nedostane na
        hernÃ­ servery (Survival/Lobby).

        <Steps>
            1. **PÅ™Ã­prava serverÅ¯**
                PotÅ™ebujeÅ¡ jeden "prÃ¡zdnÃ½" server, kde bude hrÃ¡Ä bÄ›hem pÅ™ihlaÅ¡ovÃ¡nÃ­. IdeÃ¡lnÃ­ je
                **[NanoLimbo](https://github.com/Nan1t/NanoLimbo/releases)** (spotÅ™ebuje jen pÃ¡r MB RAM).
                * Pojmenuj tento server v konfiguraci Velocity jako `auth`.
                * TvÅ¯j hlavnÃ­ server (kam se hrÃ¡Ä pÅ™ipojÃ­ po loginu) se bude jmenovat napÅ™. `lobby`.

            2. **Instalace pluginu**
                StÃ¡hni **LibreLogin** a vloÅ¾ ho do sloÅ¾ky `/plugins/` na **Velocity proxy**. Restartuj proxy.

            3. **Konfigurace (config.conf)**
                    OtevÅ™i soubor `plugins/LibreLogin/config.conf`.

                    <FileTree>
                    - plugins/
                      - LibreLogin/
                        - **config.conf**
                    </FileTree>

                    **Sekce Limbo (PÅ™ed pÅ™ihlÃ¡Å¡enÃ­m):**
                    Zde nastav server, kde bude hrÃ¡Ä "Äekat" na zadÃ¡nÃ­ hesla.
                    ```yaml
                    limbo = [
                    "auth"
                    ]
                    ```

                    **Sekce Pass-through (Po pÅ™ihlÃ¡Å¡enÃ­):**
                    Kam mÃ¡ bÃ½t hrÃ¡Ä poslÃ¡n, kdyÅ¾ zadÃ¡ sprÃ¡vnÃ© heslo.
                    ```yaml
                    pass-through {
                        root = [
                            "lobby"
                        ]
                    }
                    ```
        </Steps>
    </TabItem>

    <TabItem label="ğŸ“œ Paper (Jeden server)">
        PouÅ¾ij tuto moÅ¾nost pouze pokud mÃ¡Å¡ jen jeden server bez proxy.

        <Steps>
            1. **PÅ™Ã­prava svÄ›ta**
                Aby hrÃ¡Äi nemohli niÄit hlavnÃ­ svÄ›t pÅ™ed pÅ™ihlÃ¡Å¡enÃ­m, vytvoÅ™ pro nÄ› speciÃ¡lnÃ­ svÄ›t.
                * Nainstaluj plugin **[Multiverse-Core](https://github.com/Multiverse/Multiverse-Core/releases)** a
                **[Voidgen](https://www.spigotmc.org/resources/voidgen.25391/)**.
                * VytvoÅ™ svÄ›t: `/mv create auth normal -g VoidGen` (doporuÄujeme prÃ¡zdnÃ½ svÄ›t).
                * Nastav spawn: Jdi do svÄ›ta a napiÅ¡ `/mv setspawn`.

            2. **Instalace pluginu**
                StÃ¡hni **LibreLogin** a vloÅ¾ ho do sloÅ¾ky `/plugins/`. Restartuj server.

            3. **Konfigurace (config.conf)**
                    OtevÅ™i `plugins/LibreLogin/config.conf`.

                    **Sekce Limbo:**
                    Nastav svÄ›t pro pÅ™ihlaÅ¡ovÃ¡nÃ­.
                    ```yaml
                    limbo = [
                    "auth"
                    ]
                    ```

                    **Sekce Pass-through:**
                    Nastav svÄ›t, kam se hrÃ¡Ä portne po pÅ™ihlÃ¡Å¡enÃ­ (napÅ™. `world`).
                    ```yaml
                    pass-through {
                        root = [
                            "world"
                        ]
                    }
                    ```
        </Steps>
    </TabItem>
</Tabs>

## NastavenÃ­ DatabÃ¡ze

Kde se budou uklÃ¡dat hesla?

<Tabs>
    <TabItem label="ğŸ“ SQLite (MalÃ© servery)">
        VÃ½chozÃ­ moÅ¾nost. Data se uklÃ¡dajÃ­ do souboru ve sloÅ¾ce pluginu.
        * **VÃ½hoda:** NemusÃ­Å¡ nic nastavovat.
        * **NevÃ½hoda:** PomalejÅ¡Ã­ pÅ™i velkÃ©m poÄtu hrÃ¡ÄÅ¯.
    </TabItem>

    <TabItem label="ğŸ—„ï¸ MySQL / MariaDB (DoporuÄeno)">
        BezpeÄnÄ›jÅ¡Ã­ a rychlejÅ¡Ã­ Å™eÅ¡enÃ­ pro vÄ›tÅ¡Ã­ servery. VyÅ¾aduje externÃ­ databÃ¡zi.

        V `config.conf` najdi sekci `database` a uprav ji:

        ```yaml
        database {
            type = "mysql"
            properties {
                mysql {
                    database = "librelogin"
                    host = "localhost"
                    password = "tvoje_heslo"
                    port = 3306
                    user = "tvoj_uzivatel"
                }
            }
        }
        ```
    </TabItem>
</Tabs>

## Autologin

LibreLogin umÃ­ automaticky rozpoznat hrÃ¡Äe s koupenÃ½m Minecraftem a pÅ™ihlÃ¡sit je bez hesla.

V configu najdi a povol tuto moÅ¾nost:

```yaml
auto-register = true

```

:::caution[BezpeÄnost]
Pokud tuto funkci zapneÅ¡, warez hrÃ¡Ä se **nebude moci pÅ™ipojit** pod jmÃ©nem, kterÃ© vlastnÃ­ nÄ›kdo s originÃ¡lkou. To je sprÃ¡vnÄ› â€“ chrÃ¡nÃ­ to ÃºÄty pravÃ½ch majitelÅ¯.
:::

## Migrace z AuthMe

PÅ™echÃ¡zÃ­Å¡ ze starÃ©ho AuthMe? LibreLogin umÃ­ importovat data.

<Steps>

    1. Zastav server.
    2. Vezmi soubor `authme.db` (z AuthMe sloÅ¾ky) a vloÅ¾ ho do sloÅ¾ky `LibreLogin`.
    3. V `config.conf` najdi sekci `migration`:
            ```yaml
            # NastavenÃ­ migrace z jinÃ½ch pluginÅ¯
            migration {
                old - database {
                    # Pokud jste mÄ›li AuthMe na MySQL, vyplÅˆte sekci mysql vÃ½Å¡e.
                    # Pokud jste mÄ›li AuthMe na SQLite (soubor), vyplÅˆte sekci nÃ­Å¾e:
                    sqlite {
                        # NÃ¡zev souboru, kterÃ½ jsme pÅ™esunuli do sloÅ¾ky LibreLogin
                        path="authme.db"
                    }
                }

                # DÅ®LEÅ½ITÃ‰: ZmÄ›Åˆte na true pro spuÅ¡tÄ›nÃ­ migrace pÅ™i startu
                on-next-startup=true

                # Typ migrace. Pro AuthMe SQLite zvolte:
                type=authme-sqlite
            }
            ```


    4. SpusÅ¥ server. Sleduj konzoli, zda migrace probÄ›hla ÃºspÄ›Å¡nÄ›.
    5. Po dokonÄenÃ­ vypni v configu migraci (`enabled = false`) a restartuj server.

</Steps>
