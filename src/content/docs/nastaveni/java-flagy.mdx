---
title: Java flagy
description: Doporu캜en칠 Java flagy (startovac칤 argumenty) pro Minecraft servery.
---


import {CardGrid, LinkCard, TabItem, Tabs} from '@astrojs/starlight/components';

Jak v캩t코ina z v치s ur캜it캩 v칤, Minecraft pou쮂셨치 **Java Flagy** (startovac칤 argumenty). D칤ky nim Java pozn치, jak칳 m치 m칤t server v칳kon, jak se m치 chovat p콏i 캜i코t캩n칤 pam캩ti (Garbage Collection) a kolik RAM m콢쬰 vyu쮂셦.

Volba spr치vn칳ch flag콢 je **kriticky d콢le쬴t치**. 맗atn칠 nastaven칤 m콢쬰 zp콢sobovat z치seky (lagy) p콏i ukl치d치n칤 sv캩ta nebo p콏i 캜i코t캩n칤 pam캩ti, i kdy m치코 v칳konn칳 hardware.

## Gener치tor flag콢 (Doporu캜eno)

M칤sto slo쬴t칠ho kop칤rov치n칤 a upravov치n칤 캜칤sel ti doporu캜uji pou쮂셦 ov캩콏en칳 gener치tor. Ten za tebe vypo캜칤t치 ide치ln칤 hodnoty podle tv칠 pam캩ti RAM a typu serveru.

<CardGrid>
    <LinkCard title="Flags.sh" description="Gener치tor startovac칤ch argument콢 pro Paper, Velocity a dal코칤."
              href="https://flags.sh/" target="_blank" icon="rocket"/>
</CardGrid>

---

## Ru캜n칤 nastaven칤 (Aikar's Flags)

Pokud si chce코 flagy nastavit s치m, vych치z칤me z legend치rn칤ch **Aikar's Flags**, kter칠 jsou v komunit캩 standardem pro stabilitu a v칳kon.

### 1. Nastaven칤 RAM (Xms a Xmx)

Nejd콢le쬴t캩j코칤 jsou parametry `-Xms` (startovn칤 RAM) a `-Xmx` (maxim치ln칤 RAM).
* **Pravidlo:** Ob캩 hodnoty nastav v쬯y na **stejn칠 캜칤slo**. Zabr치n칤코 t칤m zbyte캜n칳m operac칤m p콏i zm캩n캩 velikosti pam캩ti za b캩hu.
* **Pterodactyl / Docker:** Pokud m치코 server na hostingu v kontejneru (nap콏. m치코 zaplaceno 10 GB RAM), **nikdy nenastavuj Xmx na 100 %**. Java pot콏ebuje extra m칤sto pro sv치 vl치kna (Overhead).

:::caution[Kolik RAM nastavit?]
Doporu캜uji nastavit `Xmx` a `Xms` na cca **85-90 %** celkov칠 kapacity, kterou m치코 k dispozici.
* M치코 8 GB RAM? Nastav `-Xms7G -Xmx7G`
* M치코 12 GB RAM? Nastav `-Xms10G -Xmx10G`
:::

### 2. Seznam flag콢

Vyber si typ serveru, kter칳 pou쮂셨치코:

<Tabs>
    <TabItem label="游늯 Paper / Purpur (G1GC)">
        Standardn칤 Aikarovy flagy. Vhodn칠 pro drtivou v캩t코inu server콢 (Paper, Purpur, Spigot).
        *Nezapome켿 zm캩nit hodnotu RAM (prvn칤 dva argumenty) podle pot콏eby.*

        ```bash
        java -Xms6G -Xmx6G -XX:+UseG1GC -XX:+ParallelRefProcEnabled -XX:MaxGCPauseMillis=200
        -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch -XX:G1HeapWastePercent=5
        -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15 -XX:G1MixedGCLiveThresholdPercent=90
        -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32 -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1
        -Dusing.aikars.flags=[https://mcflags.emc.gs](https://mcflags.emc.gs) -Daikars.new.flags=true
        -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -jar
        server.jar --nogui
        ```
    </TabItem>

    <TabItem label="游냐 Pufferfish (SIMD)">
        Pufferfish (a jeho forky jako Purpur) um칤 vyu쮂셦 **vektorov칠 operace (SIMD)** pro zrychlen칤 matematick칳ch
        v칳po캜t콢.
        Vy쬬duje to modern칤 Javu (17+) a p콏id치n칤 modulu `--add-modules=jdk.incubator.vector`.

        *Pozn치mka: V konzoli se m콢쬰 objevit varov치n칤 o "Incubator module", to je v po콏치dku.*

        ```bash
        java -Xms6G -Xmx6G --add-modules=jdk.incubator.vector -XX:+UseG1GC -XX:+ParallelRefProcEnabled
        -XX:MaxGCPauseMillis=200 -XX:+UnlockExperimentalVMOptions -XX:+DisableExplicitGC -XX:+AlwaysPreTouch
        -XX:G1HeapWastePercent=5 -XX:G1MixedGCCountTarget=4 -XX:InitiatingHeapOccupancyPercent=15
        -XX:G1MixedGCLiveThresholdPercent=90 -XX:G1RSetUpdatingPauseTimePercent=5 -XX:SurvivorRatio=32
        -XX:+PerfDisableSharedMem -XX:MaxTenuringThreshold=1
        -Dusing.aikars.flags=[https://mcflags.emc.gs](https://mcflags.emc.gs) -Daikars.new.flags=true
        -XX:G1NewSizePercent=30 -XX:G1MaxNewSizePercent=40 -XX:G1HeapRegionSize=8M -XX:G1ReservePercent=20 -jar
        server.jar --nogui
        ```
    </TabItem>

    <TabItem label="游 Velocity Proxy">
        Proxy server (Velocity) funguje jinak ne hern칤 server, nepot콏ebuje tolik RAM a m치 jin칠 chov치n칤 Garbage
        Collectoru.

        ```bash
        java -Xms1G -Xmx1G -XX:+UseG1GC -XX:G1HeapRegionSize=4M -XX:+UnlockExperimentalVMOptions
        -XX:+ParallelRefProcEnabled -XX:+AlwaysPreTouch -XX:MaxInlineLevel=15 -jar server.jar --nogui
        ```
    </TabItem>
</Tabs>

## 캛ast칠 probl칠my

### Pterodactyl a Pelican (AlwaysPreTouch)
Pokud pou쮂셨치코 hosting s panelem **Pterodactyl** nebo **Pelican** (b캩쮂 v Dockeru), pravd캩podobn캩 **nebude코 moci pou쮂셦** flag `-XX:+AlwaysPreTouch`.
* **Probl칠m:** Tento flag nut칤 Javu p콏i startu "osahat" a vynulovat celou p콏id캩lenou RAM. V kontejnerov칠m prost콏ed칤 to m콢쬰 trvat dlouho, nebo to syst칠m vyhodnot칤 jako zaseknut칤 a server zabije (Kill).
* **콎e코en칤:** Pokud se server po p콏id치n칤 flag콢 restartuje nebo pad치 p콏i startu, **odeber** z p콏칤kazu 캜치st `-XX:+AlwaysPreTouch`.

### Generational ZGC (Java 21+)
Mo쬹치 jsi sly코el o **ZGC**, nov칠m Garbage Collectoru v Jav캩 21.
* Pro servery s **velkou RAM (nad 16 GB)** m콢쬰 b칳t ZGC lep코칤 ne G1GC (쮂멳n칠 z치seky).
* Pro b캩쬹칠 servery (do 12 GB) je **G1GC (Aikar)** st치le stabiln캩j코칤 a ov캩콏en캩j코칤 volbou. Pokud nev칤코 co d캩l치코, z콢sta켿 u Aikara.